const inputText=document.getElementById("input-text"),mealDisplayer=function(e,t){let l=document.querySelector("main");if(l.firstChild)for(;l.firstChild;)l.firstChild.remove();if(t)return l.textContent=e;for(let a=0;a<e.length;a++){let i=document.createElement("div");l.appendChild(i),i.classList.add("card");let n=document.createElement("div");i.appendChild(n),n.classList.add("title-container");let r=document.createElement("h2");n.appendChild(r),r.textContent=e[a].strMeal;let s=document.createElement("div");i.appendChild(s),s.classList.add("img-container");let d=document.createElement("img");s.appendChild(d),d.src=e[a].strMealThumb,d.alt=e[a].strMeal;let o=document.createElement("div");i.appendChild(o),o.classList.add("ingredients-and-title-container");let c=document.createElement("div");o.appendChild(c),c.classList.add("ingredients-title-container");let h=document.createElement("h3");c.appendChild(h),h.textContent="Ingredients";let p=document.createElement("div");o.appendChild(p),p.classList.add("ingredients-container");let g=1,m=`strIngredient${g}`,u=`strMeasure${g}`;for(;e[a][m];){let f=document.createElement("p");p.appendChild(f),f.textContent=e[a][m]+" - "+e[a][u],m=`strIngredient${++g}`,u=`strMeasure${g}`}let C=document.createElement("div");i.appendChild(C),C.classList.add("arrowContainer");let w=document.createElement("button");C.appendChild(w),w.classList.add("arrow"),w.textContent="âž§",C.addEventListener("click",()=>{o.classList.toggle("clicked"),w.classList.toggle("clicked"),o.classList.contains("clicked")?o.scrollIntoView({behavior:"smooth",block:"start"}):i.scrollIntoView({behavior:"smooth",block:"start"})})}};let isDataNull="",dataFilter="",word="";const mealFetcher=async function(e){try{let t=!1,l=await fetch("https://www.themealdb.com/api/json/v1/1/search.php?f="+e);if(!l.ok)throw Error("Failed to fetch data");let a=await l.json();if(null==a.meals)return t=!0,mealDisplayer("Oops, we found nothing like that... Try again!",!0);let i=a.meals.filter(e=>e.strMeal.toLowerCase().includes(word));t||(0===i.length?mealDisplayer("Oops, we found nothing like that... Try using a different spelling!",!0):mealDisplayer(i))}catch(n){console.error("An error occurred:",n.message),mealDisplayer("An error occurred. Please try again later, or maybe using a different spelling.",!0)}};inputText.addEventListener("input",e=>{e.target.value?mealFetcher((word=e.target.value.toLowerCase())[0]):mealDisplayer("",!0)});const toggleSwitch=document.querySelector(".toggle-switch");toggleSwitch.offsetWidth,toggleSwitch.addEventListener("click",()=>{toggleSwitch.classList.toggle("dark-mode");let e=document.documentElement;e.classList.toggle("dark-mode")});